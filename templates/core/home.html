{% extends 'base.html' %}
{% load static %}

{% block title %}FoundrFuse - Connect Founders & Investors{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Georgia&display=swap" rel="stylesheet">

{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-shapes">
        <div class="hero-shape shape-1"></div>
        <div class="hero-shape shape-2"></div>
        <div class="hero-shape shape-3"></div>
    </div>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title animated-on-scroll fade-in">Empowering Ideas, One Match at a Time</h1>
                    <p class="hero-text animated-on-scroll fade-in delay-100">Discover a smarter, swipe-driven way to connect visionary founders with future-ready investors.</p>
                    <div class="hero-buttons animated-on-scroll fade-in delay-200">
                        <a href="{% url 'accounts:register' %}" class="btn btn-light">Get Started</a>
                        <a href="{% url 'core:features' %}" class="btn btn-outline-light">Learn More</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image animated-on-scroll slide-in-right">
                    <div class="hero-mockup">
                        <div class="phone-outline">
                            <div class="phone-screen">
                                <div class="mockup-content">
                                    <div class="mockup-navbar">
                                        <div class="mockup-logo">FoundrFuse</div>
                                        <div class="mockup-profile">J</div>
                                    </div>
                                    <div class="mockup-card">
                                        <div class="mockup-card-header">
                                            <i class="fas fa-rocket"></i>
                                        </div>
                                        <div class="mockup-card-content">
                                            <h5 class="mockup-card-title">TechNova Solutions</h5>
                                            <p class="mockup-card-subtitle">AI-powered customer service platform</p>
                                            <div class="mockup-card-tags">
                                                <span class="mockup-tag">Tech</span>
                                                <span class="mockup-tag">AI</span>
                                                <span class="mockup-tag">Seed Stage</span>
                                            </div>
                                        </div>
                                        <div class="mockup-actions">
                                            <button class="mockup-btn mockup-btn-dislike">
                                                <i class="fas fa-times"></i>
                                            </button>
                                            <button class="mockup-btn mockup-btn-like">
                                                <i class="fas fa-heart"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section">
    <div class="container">
        <div class="section-title">
            <h2 class="animated-on-scroll fade-in">What Makes FoundrFuse Different?</h2>
            <p class="animated-on-scroll fade-in delay-100">Our platform is designed to create meaningful connections that lead to successful partnerships.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                <div class="feature-card animated-on-scroll fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-repeat"></i>
                    </div>
                    <h3 class="feature-title">Swipe to Connect</h3>
                    <p class="feature-text">Like, match, and chat just like a dating app—built for startups and investors.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-4 mb-lg-0">
                <div class="feature-card animated-on-scroll fade-in delay-100">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 class="feature-title">Verified Profiles</h3>
                    <p class="feature-text">Know you're talking to the real deal—founders and investors both.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                <div class="feature-card animated-on-scroll fade-in delay-200">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3 class="feature-title">AI Matching Engine</h3>
                    <p class="feature-text">Smart algorithm suggests meaningful connections, not random encounters.</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="feature-card animated-on-scroll fade-in delay-300">
                    <div class="feature-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3 class="feature-title">Freemium to Premium</h3>
                    <p class="feature-text">Use for free, unlock enhanced features with a premium subscription.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="how-it-works">
    <div class="how-it-works-shapes">
        <div class="how-shape how-shape-1"></div>
        <div class="how-shape how-shape-2"></div>
    </div>
    <div class="container">
        <div class="section-title">
            <h2 class="animated-on-scroll fade-in">How FoundrFuse Works</h2>
            <p class="animated-on-scroll fade-in delay-100">Our simple process helps founders and investors find their perfect match.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="step-card animated-on-scroll fade-in">
                    <div class="step-number">1</div>
                    <h3 class="step-title">Create Your Profile</h3>
                    <p class="step-text">Sign up as a founder or investor and create your detailed profile. Add your experience, goals, and what you're looking for in a match.</p>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="step-card animated-on-scroll fade-in delay-100">
                    <div class="step-number">2</div>
                    <h3 class="step-title">Discover Potential Matches</h3>
                    <p class="step-text">Browse through curated profiles tailored to your preferences. Our AI-powered algorithm suggests the most relevant matches.</p>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="step-card animated-on-scroll fade-in delay-200">
                    <div class="step-number">3</div>
                    <h3 class="step-title">Swipe and Match</h3>
                    <p class="step-text">Swipe right on profiles you're interested in. When both parties swipe right, it's a match! Free users get limited swipes, Premium users get unlimited.</p>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="step-card animated-on-scroll fade-in delay-300">
                    <div class="step-number">4</div>
                    <h3 class="step-title">Connect and Collaborate</h3>
                    <p class="step-text">Start a conversation with your matches and explore potential partnerships. Share information, schedule meetings, and build relationships.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials py-5">
    <div class="container">
        <div class="section-title">
            <h2 class="animated-on-scroll fade-in">What Our Users Say</h2>
            <p class="animated-on-scroll fade-in delay-100">Real stories from our community of founders and investors.</p>
        </div>
        <ul class="nav nav-pills justify-content-center mb-4" id="testimonialTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="founder-tab" data-bs-toggle="pill" data-bs-target="#founder-testimonials" type="button" role="tab">
                    Founders
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="investor-tab" data-bs-toggle="pill" data-bs-target="#investor-testimonials" type="button" role="tab">
                    Investors
                </button>
            </li>
        </ul>
        <div class="tab-content" id="testimonialTabsContent">
            <div class="tab-pane fade show active" id="founder-testimonials" role="tabpanel">
                <div class="row">
                    {% for t in testimonials %}
                        {% if t.user_type == 'founder' %}
                        <div class="col-lg-6 mb-4">
                            <div class="testimonial-pro-card">
                                <div class="testimonial-pro-header">
                                    {% if t.avatar %}
                                        <img src="{{ t.avatar.url }}" class="testimonial-pro-avatar" alt="{{ t.name }}">
                                    {% else %}
                                        <div class="testimonial-pro-avatar initials">{{ t.name|slice:":2"|upper }}</div>
                                    {% endif %}
                                    <div>
                                        <h5 class="mb-0">{{ t.name }}</h5>
                                        <small class="text-muted">{{ t.role }}{% if t.company %}, {{ t.company }}{% endif %}</small>
                                        <div>
                                            <span class="badge bg-primary">{{ t.category }}</span>
                                            <span class="badge bg-light text-dark">{{ t.date|date:"M Y" }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="testimonial-pro-body">
                                    <p class="testimonial-pro-text">“{{ t.text }}”</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <div class="tab-pane fade" id="investor-testimonials" role="tabpanel">
                <div class="row">
                    {% for t in testimonials %}
                        {% if t.user_type == 'investor' %}
                        <div class="col-lg-6 mb-4">
                            <div class="testimonial-pro-card">
                                <div class="testimonial-pro-header">
                                    {% if t.avatar %}
                                        <img src="{{ t.avatar.url }}" class="testimonial-pro-avatar" alt="{{ t.name }}">
                                    {% else %}
                                        <div class="testimonial-pro-avatar initials">{{ t.name|slice:":2"|upper }}</div>
                                    {% endif %}
                                    <div>
                                        <h5 class="mb-0">{{ t.name }}</h5>
                                        <small class="text-muted">{{ t.role }}{% if t.company %}, {{ t.company }}{% endif %}</small>
                                        <div>
                                            <span class="badge bg-success">{{ t.category }}</span>
                                            <span class="badge bg-light text-dark">{{ t.date|date:"M Y" }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="testimonial-pro-body">
                                    <p class="testimonial-pro-text">“{{ t.text }}”</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-shapes">
        <div class="cta-shape cta-shape-1"></div>
        <div class="cta-shape cta-shape-2"></div>
    </div>
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title animated-on-scroll fade-in">Ready to Connect?</h2>
            <p class="cta-text animated-on-scroll fade-in delay-100">Join FoundrFuse today and start matching with the right partners for your entrepreneurial journey.</p>
            <div class="cta-buttons animated-on-scroll fade-in delay-200">
                <a href="{% url 'accounts:register' %}?user_type=founder" class="btn btn-light">Join as Founder</a>
                <a href="{% url 'accounts:register' %}?user_type=investor" class="btn btn-outline-light">Join as Investor</a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Blogs Section -->
{% if featured_blogs %}
<section class="featured-blogs py-5">
    <div class="container">
        <div class="section-title">
            <h2 class="animated-on-scroll fade-in">Latest Insights</h2>
            <p class="animated-on-scroll fade-in delay-100">Explore the latest trends, tips, and success stories from our community.</p>
        </div>
        
        <div class="row">
            {% for blog in featured_blogs %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card h-100 border-0 shadow-sm animated-on-scroll fade-in delay-{{ forloop.counter|add:"1" }}00">
                    <div class="card-header p-0">
                        <div style="height: 200px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                            <i class="{% if forloop.counter == 1 %}fas fa-lightbulb{% elif forloop.counter == 2 %}fas fa-chart-line{% else %}fas fa-handshake{% endif %}"></i>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="mb-2">
                            {% if blog.industry %}<span class="badge bg-primary">{{ blog.industry.name }}</span>{% endif %}
                            {% for category in blog.categories.all|slice:":2" %}
                            <span class="badge bg-secondary">{{ category.name }}</span>
                            {% endfor %}
                        </div>
                        <h5 class="card-title"><a href="{% url 'core:blog_detail' blog.slug %}" class="text-decoration-none text-dark">{{ blog.title }}</a></h5>
                        <p class="card-text text-muted">{{ blog.summary|truncatewords:15 }}</p>
                    </div>
                    <div class="card-footer bg-white border-0">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <small class="text-muted"><i class="far fa-calendar me-1"></i> {{ blog.created_at|date:"M d, Y" }}</small>
                            </div>
                            <a href="{% url 'core:blog_detail' blog.slug %}" class="btn btn-sm btn-outline-primary">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Newsletter Signup -->
<section class="newsletter py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <h3 class="mb-3 animated-on-scroll fade-in">Stay Connected</h3>
                <p class="mb-4 animated-on-scroll fade-in delay-100">Subscribe to our newsletter for the latest updates, insights, and success stories.</p>
                <form action="{% url 'core:newsletter_signup' %}" method="post" class="newsletter-form animated-on-scroll fade-in delay-200">
                    {% csrf_token %}
                    <div class="input-group mb-3">
                        <input type="email" name="email" class="form-control" placeholder="Your email address" required>
                        <button class="btn btn-primary" type="submit">Subscribe</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Create decorative elements
        const createDecorativeElements = function() {
            const containers = document.querySelectorAll('.hero-shapes, .how-it-works-shapes, .cta-shapes');
            if (!containers.length) return;
            
            containers.forEach(container => {
                // Create random decorative dots
                for (let i = 0; i < 20; i++) {
                    const dot = document.createElement('div');
                    dot.style.position = 'absolute';
                    dot.style.width = (2 + Math.random() * 8) + 'px';
                    dot.style.height = dot.style.width;
                    dot.style.borderRadius = '50%';
                    dot.style.background = 'white';
                    dot.style.opacity = (0.1 + Math.random() * 0.2).toString();
                    
                    // Random position
                    dot.style.top = (Math.random() * 100) + '%';
                    dot.style.left = (Math.random() * 100) + '%';
                    
                    // Animation
                    dot.style.animation = `float ${3 + Math.random() * 7}s infinite ease-in-out`;
                    dot.style.animationDelay = (Math.random() * 5) + 's';
                    
                    container.appendChild(dot);
                }
            });
        };
        
        createDecorativeElements();
        
        // Animate elements when they enter the viewport
        const animateElements = function() {
            const elements = document.querySelectorAll('.animated-on-scroll');
            
            elements.forEach(element => {
                const elementPosition = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementPosition < windowHeight - 50) {
                    element.classList.add('is-visible');
                }
            });
        };
        
        // Run animation check on load and scroll
        animateElements();
        window.addEventListener('scroll', animateElements);
        
        // Animated count for statistics
        const animateCounter = function(counter, target) {
            let count = 0;
            const speed = target / 100;
            
            const updateCount = () => {
                if (count < target) {
                    count += speed;
                    counter.innerText = Math.floor(count);
                    setTimeout(updateCount, 10);
                } else {
                    counter.innerText = target;
                }
            };
            
            updateCount();
        };
        
        // Mock swipe animation for hero mockup
        const animateMockSwipe = function() {
            const mockupCard = document.querySelector('.mockup-card');
            if (!mockupCard) return;
            
            setInterval(() => {
                // Random swipe direction
                const isLike = Math.random() > 0.5;
                
                // Add swipe class
                mockupCard.classList.add(isLike ? 'swipe-right' : 'swipe-left');
                
                // After animation, remove class
                setTimeout(() => {
                    mockupCard.classList.remove('swipe-right', 'swipe-left');
                }, 1000);
            }, 5000);
        };
        
        animateMockSwipe();
    });
</script>
{% endblock %}